<body *ngIf="showForm">
  <main>
    <header>
      <app-logo></app-logo>
      <h1>Barberqueue</h1>
      <p>Crea tu cuenta de cliente</p>
    </header>

    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
      <!-- Input nombre completo -->
      <div class="input-wrapper">
        <label for="fullName">Nombre Completo</label>
        <div class="input-container">
          <img src="/assets/icons/person.svg" alt="" />
          <input
            type="text"
            id="fullName"
            placeholder="Juan Pérez"
            formControlName="name"
          />
        </div>

        <!--mensaje de error-->
        <div
          class="error-message"
          *ngIf="
            (registerForm.get('name')?.invalid &&
              registerForm.get('name')?.dirty) ||
            registerForm.get('name')?.touched
          "
        >
          <span *ngIf="registerForm.get('name')?.hasError('required')"
            >El campo es obligatorio</span
          >
          <span *ngIf="registerForm.get('name')?.hasError('pattern')"
            >Formato de nombre invalido</span
          >
        </div>
      </div>

      <!-- Input email -->
      <div class="input-wrapper">
        <label for="email">Email</label>
        <div class="input-container">
          <img src="/assets/icons/email.svg" alt="" />
          <input
            type="email"
            id="email"
            placeholder="tu@email.com"
            formControlName="email"
          />
        </div>
        <div
          class="error-message"
          *ngIf="
            (registerForm.get('email')?.invalid &&
              registerForm.get('email')?.dirty) ||
            registerForm.get('email')?.touched
          "
        >
          <span *ngIf="registerForm.get('email')?.hasError('required')">
            El campo es obligatorio</span
          >
          <span *ngIf="registerForm.get('email')?.hasError('email')"
            >Formato de email invalido</span
          >
        </div>
      </div>

      <!-- Input contraseña -->
      <div class="input-wrapper">
        <label for="password">Contraseña</label>
        <div class="input-container">
          <img src="/assets/icons/lock.svg" alt="" />
          <input
            type="password"
            id="password"
            placeholder="••••••••"
            formControlName="password"
          />
        </div>
        <div
          class="error-message"
          *ngIf="
            (registerForm.get('password')?.invalid &&
              registerForm.get('password')?.dirty) ||
            registerForm.get('password')?.touched
          "
        >
          <span *ngIf="registerForm.get('password')?.hasError('required')"
            >EL campo es requerido</span
          ><span *ngIf="registerForm.get('password')?.hasError('minlength')"
            >La contraseña debe ser mayor a 8 caracteres</span
          >
        </div>
      </div>

      <!-- Input confirmar contraseña -->
      <div class="input-wrapper">
        <label for="confirmPassword">Confirmar Contraseña</label>
        <div class="input-container">
          <img src="/assets/icons/lock.svg" alt="" />
          <input
            type="password"
            id="confirmPassword"
            placeholder="••••••••"
            formControlName="confirmPassword"
          />
        </div>
        <div
          class="error-message"
          *ngIf="
            registerForm.get('confirmPassword')?.dirty ||
            registerForm.get('confirmPassword')?.touched
          "
        >
          <!-- Requerido -->

          <span
            *ngIf="registerForm.get('confirmPassword')?.hasError('required')"
            >EL campo es requerido</span
          >
          <!-- Contraseñas no coinciden -->

          <span
            *ngIf="
              !registerForm.get('confirmPassword')?.hasError('required') &&
              registerForm.hasError('passwordNoMatch')
            "
            >La contraseñas no coinciden</span
          >
        </div>
      </div>

      <button type="submit">Crear cuenta</button>
      <a routerLink="/login"
        >¿Ya tienes una cuenta? <span>Iniciar sesión</span></a
      >
    </form>
  </main>
</body>
